/**
 * Light Control Configuration
 * Generated automatically from light_control_envmap_rotation folder
 */

// Configuration for light control samples
export const LIGHT_CONTROL_CONFIG = [
  {
    "id": "sample0",
    "name": "Sample 0",
    "scene_id": "madacode0706_39008",
    "base_path": "static/light_control_envmap_rotation/sample0/",
    "original_image": "003-original.png",
    "rotations": [
      {
        "degree": 0,
        "control_image": "003-control-madacode0706_39008-envmap_rot0deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot0deg-seed709.png"
      },
      {
        "degree": 10,
        "control_image": "003-control-madacode0706_39008-envmap_rot10deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot10deg-seed709.png"
      },
      {
        "degree": 20,
        "control_image": "003-control-madacode0706_39008-envmap_rot20deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot20deg-seed709.png"
      },
      {
        "degree": 30,
        "control_image": "003-control-madacode0706_39008-envmap_rot30deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot30deg-seed709.png"
      },
      {
        "degree": 40,
        "control_image": "003-control-madacode0706_39008-envmap_rot40deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot40deg-seed709.png"
      },
      {
        "degree": 50,
        "control_image": "003-control-madacode0706_39008-envmap_rot50deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot50deg-seed709.png"
      },
      {
        "degree": 60,
        "control_image": "003-control-madacode0706_39008-envmap_rot60deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot60deg-seed709.png"
      },
      {
        "degree": 70,
        "control_image": "003-control-madacode0706_39008-envmap_rot70deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot70deg-seed709.png"
      },
      {
        "degree": 80,
        "control_image": "003-control-madacode0706_39008-envmap_rot80deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot80deg-seed709.png"
      },
      {
        "degree": 90,
        "control_image": "003-control-madacode0706_39008-envmap_rot90deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot90deg-seed709.png"
      },
      {
        "degree": 100,
        "control_image": "003-control-madacode0706_39008-envmap_rot100deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot100deg-seed709.png"
      },
      {
        "degree": 110,
        "control_image": "003-control-madacode0706_39008-envmap_rot110deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot110deg-seed709.png"
      },
      {
        "degree": 120,
        "control_image": "003-control-madacode0706_39008-envmap_rot120deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot120deg-seed709.png"
      },
      {
        "degree": 130,
        "control_image": "003-control-madacode0706_39008-envmap_rot130deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot130deg-seed709.png"
      },
      {
        "degree": 140,
        "control_image": "003-control-madacode0706_39008-envmap_rot140deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot140deg-seed709.png"
      },
      {
        "degree": 150,
        "control_image": "003-control-madacode0706_39008-envmap_rot150deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot150deg-seed709.png"
      },
      {
        "degree": 160,
        "control_image": "003-control-madacode0706_39008-envmap_rot160deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot160deg-seed709.png"
      },
      {
        "degree": 170,
        "control_image": "003-control-madacode0706_39008-envmap_rot170deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot170deg-seed709.png"
      },
      {
        "degree": 180,
        "control_image": "003-control-madacode0706_39008-envmap_rot180deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot180deg-seed709.png"
      },
      {
        "degree": 190,
        "control_image": "003-control-madacode0706_39008-envmap_rot190deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot190deg-seed709.png"
      },
      {
        "degree": 200,
        "control_image": "003-control-madacode0706_39008-envmap_rot200deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot200deg-seed709.png"
      },
      {
        "degree": 210,
        "control_image": "003-control-madacode0706_39008-envmap_rot210deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot210deg-seed709.png"
      },
      {
        "degree": 220,
        "control_image": "003-control-madacode0706_39008-envmap_rot220deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot220deg-seed709.png"
      },
      {
        "degree": 230,
        "control_image": "003-control-madacode0706_39008-envmap_rot230deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot230deg-seed709.png"
      },
      {
        "degree": 240,
        "control_image": "003-control-madacode0706_39008-envmap_rot240deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot240deg-seed709.png"
      },
      {
        "degree": 250,
        "control_image": "003-control-madacode0706_39008-envmap_rot250deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot250deg-seed709.png"
      },
      {
        "degree": 260,
        "control_image": "003-control-madacode0706_39008-envmap_rot260deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot260deg-seed709.png"
      },
      {
        "degree": 270,
        "control_image": "003-control-madacode0706_39008-envmap_rot270deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot270deg-seed709.png"
      },
      {
        "degree": 280,
        "control_image": "003-control-madacode0706_39008-envmap_rot280deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot280deg-seed709.png"
      },
      {
        "degree": 290,
        "control_image": "003-control-madacode0706_39008-envmap_rot290deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot290deg-seed709.png"
      },
      {
        "degree": 300,
        "control_image": "003-control-madacode0706_39008-envmap_rot300deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot300deg-seed709.png"
      },
      {
        "degree": 310,
        "control_image": "003-control-madacode0706_39008-envmap_rot310deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot310deg-seed709.png"
      },
      {
        "degree": 320,
        "control_image": "003-control-madacode0706_39008-envmap_rot320deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot320deg-seed709.png"
      },
      {
        "degree": 330,
        "control_image": "003-control-madacode0706_39008-envmap_rot330deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot330deg-seed709.png"
      },
      {
        "degree": 340,
        "control_image": "003-control-madacode0706_39008-envmap_rot340deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot340deg-seed709.png"
      },
      {
        "degree": 350,
        "control_image": "003-control-madacode0706_39008-envmap_rot350deg.png",
        "generated_image": "003-generated-madacode0706_39008-envmap_rot350deg-seed709.png"
      }
    ]
  },
  {
    "id": "sample1",
    "name": "Sample 1",
    "scene_id": "ulaval_outdoor9C4A8473000",
    "base_path": "static/light_control_envmap_rotation/sample1/",
    "original_image": "000-original.png",
    "rotations": [
      {
        "degree": 0,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot0deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot0deg-seed709.png"
      },
      {
        "degree": 10,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot10deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot10deg-seed709.png"
      },
      {
        "degree": 20,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot20deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot20deg-seed709.png"
      },
      {
        "degree": 30,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot30deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot30deg-seed709.png"
      },
      {
        "degree": 40,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot40deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot40deg-seed709.png"
      },
      {
        "degree": 50,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot50deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot50deg-seed709.png"
      },
      {
        "degree": 60,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot60deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot60deg-seed709.png"
      },
      {
        "degree": 70,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot70deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot70deg-seed709.png"
      },
      {
        "degree": 80,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot80deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot80deg-seed709.png"
      },
      {
        "degree": 90,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot90deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot90deg-seed709.png"
      },
      {
        "degree": 100,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot100deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot100deg-seed709.png"
      },
      {
        "degree": 110,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot110deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot110deg-seed709.png"
      },
      {
        "degree": 120,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot120deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot120deg-seed709.png"
      },
      {
        "degree": 130,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot130deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot130deg-seed709.png"
      },
      {
        "degree": 140,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot140deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot140deg-seed709.png"
      },
      {
        "degree": 150,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot150deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot150deg-seed709.png"
      },
      {
        "degree": 160,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot160deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot160deg-seed709.png"
      },
      {
        "degree": 170,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot170deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot170deg-seed709.png"
      },
      {
        "degree": 180,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot180deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot180deg-seed709.png"
      },
      {
        "degree": 190,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot190deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot190deg-seed709.png"
      },
      {
        "degree": 200,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot200deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot200deg-seed709.png"
      },
      {
        "degree": 210,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot210deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot210deg-seed709.png"
      },
      {
        "degree": 220,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot220deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot220deg-seed709.png"
      },
      {
        "degree": 230,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot230deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot230deg-seed709.png"
      },
      {
        "degree": 240,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot240deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot240deg-seed709.png"
      },
      {
        "degree": 250,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot250deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot250deg-seed709.png"
      },
      {
        "degree": 260,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot260deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot260deg-seed709.png"
      },
      {
        "degree": 270,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot270deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot270deg-seed709.png"
      },
      {
        "degree": 280,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot280deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot280deg-seed709.png"
      },
      {
        "degree": 290,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot290deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot290deg-seed709.png"
      },
      {
        "degree": 300,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot300deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot300deg-seed709.png"
      },
      {
        "degree": 310,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot310deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot310deg-seed709.png"
      },
      {
        "degree": 320,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot320deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot320deg-seed709.png"
      },
      {
        "degree": 330,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot330deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot330deg-seed709.png"
      },
      {
        "degree": 340,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot340deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot340deg-seed709.png"
      },
      {
        "degree": 350,
        "control_image": "000-control-ulaval_outdoor9C4A8473000-envmap_rot350deg.png",
        "generated_image": "000-generated-ulaval_outdoor9C4A8473000-envmap_rot350deg-seed709.png"
      }
    ]
  }
];

// Helper functions
export function getRotationRange() {
  if (LIGHT_CONTROL_CONFIG.length === 0) return { min: -180, max: 180, step: 10 };
  
  const rotations = LIGHT_CONTROL_CONFIG[0].rotations.map(r => r.degree);
  const min = Math.min(...rotations);
  const max = Math.max(...rotations);
  
  // Determine step size from first few rotations
  let step = 10;
  if (rotations.length >= 2) {
    step = rotations[1] - rotations[0];
  }
  
  return { 
    min: -180, 
    max: 180, 
    step: step,
    availableMin: min,
    availableMax: max
  };
}

export function mapSliderToRotation(sliderValue) {
  // Convert slider value (-180 to +180) to available rotation degree (0-350)
  let rotation = ((sliderValue % 360) + 360) % 360;
  
  // Round to nearest available step
  const range = getRotationRange();
  rotation = Math.round(rotation / range.step) * range.step;
  
  // Handle 360° -> 0°
  if (rotation >= 360) {
    rotation = 0;
  }
  
  return rotation;
}

export function getImagePaths(sampleId, sliderValue) {
  const sample = LIGHT_CONTROL_CONFIG.find(s => s.id === sampleId);
  if (!sample) return null;
  
  const targetRotation = mapSliderToRotation(sliderValue);
  const rotationData = sample.rotations.find(r => r.degree === targetRotation);
  
  if (!rotationData) return null;
  
  return {
    original: sample.original_image ? sample.base_path + sample.original_image : null,
    control: sample.base_path + rotationData.control_image,
    generated: sample.base_path + rotationData.generated_image,
    rotation: targetRotation
  };
}
